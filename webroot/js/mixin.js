define(["require","gintonic_c_m_s/js/websocket/websocket","jquery"],function(e){var t=e("gintonic_c_m_s/js/websocket/websocket"),n=e("jquery"),r={componentDidMount:function(){t.subscribe({topic:this.recieveUri,method:this.recieve}),this.fetch()},recieve:function(t){var t=JSON.parse(t[0]);this.recieved(t)},fetch:function(){var t=this;n.ajax({url:this.fetchUrl,method:"POST",dataType:"json",cache:!1,data:{id:[this.props.id]}}).done(function(e){t.fetched(e)}).fail(function(e){console.log("fail"),console.log(e)})},send:function(t){var r=this;n.ajax({url:this.sendUrl,method:"POST",dataType:"json",cache:!1,data:t}).done(function(e){n.isFunction(r.sent)&&r.sent(e)}).fail(function(e){console.log("fail"),console.log(e)})}};return r});